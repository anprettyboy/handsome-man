(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{581:function(t,s,a){t.exports=a.p+"assets/img/programmer-5-years.aecba2c2.png"},582:function(t,s,a){t.exports=a.p+"assets/img/rm-rf2.bce625b1.jpeg"},583:function(t,s,a){t.exports=a.p+"assets/img/change.1f9e3b77.png"},584:function(t,s,a){t.exports=a.p+"assets/img/computer-learn.563f1959.jpeg"},585:function(t,s,a){t.exports=a.p+"assets/img/avoid-rm.147b1c6d.jpeg"},602:function(t,s,a){"use strict";a.r(s);var n=a(12),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"google-zx-ä¸­æ–‡ç‰ˆ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#google-zx-ä¸­æ–‡ç‰ˆ"}},[t._v("#")]),t._v(" Google zx ä¸­æ–‡ç‰ˆ")]),t._v(" "),n("img",{staticStyle:{width:"auto",height:"auto"},attrs:{src:a(581)}}),t._v(" "),n("h2",{attrs:{id:"ç®€ä»‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç®€ä»‹"}},[t._v("#")]),t._v(" ç®€ä»‹")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://anprettyboy.github.io/handsome-man/",target:"_blank",rel:"noopener noreferrer"}},[t._v("2021å¹´åº¦æœ€æµè¡Œé¡¹ç›®"),n("OutboundLink")],1),t._v("æ˜¯"),n("a",{attrs:{href:"https://github.com/google/zx",target:"_blank",rel:"noopener noreferrer"}},[t._v("zx"),n("OutboundLink")],1),t._v("ï¼Œä¸€ä¸ªç”±è°·æ­Œæ¨å‡ºçš„å…¨æ–°çš„å·¥å…·ï¼Œå¯ç”¨äºä»¥ JavaScript æˆ– TypeScript ç¼–å†™ç®€å•çš„å‘½ä»¤è¡Œè„šæœ¬ã€‚")]),t._v(" "),n("p",[t._v("åŸºæœ¬ä¸Šå®ƒå¯ä»¥è®©ä½ åœ¨ä»£ç ä¸­åµŒå…¥ä»»ä½• bash è¡¨è¾¾å¼ï¼ˆls, cat, git...ç­‰ä»»ä½•å‘½ä»¤ï¼ï¼‰ï¼Œå¹¶é€šè¿‡"),n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/await",target:"_blank",rel:"noopener noreferrer"}},[t._v("awaitæ“ä½œç¬¦"),n("OutboundLink")],1),t._v("ä½¿ç”¨"),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScript template literals"),n("OutboundLink")],1),t._v("çš„ç»“æœã€‚")]),t._v(" "),n("p",[t._v("å®ƒå¼•å…¥äº†ç”±å‡ ä¸ªæµè¡Œçš„è½¯ä»¶åŒ…æä¾›çš„å®ç”¨å·¥å…·ï¼š")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/node-fetch/node-fetch",target:"_blank",rel:"noopener noreferrer"}},[t._v("node-fetch"),n("OutboundLink")],1),t._v(" ä¸æµè§ˆå™¨ä¸­"),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fetch"),n("OutboundLink")],1),t._v("æœ‰ç€ç›¸åŒçš„ APIï¼Œ å¯åˆ›å»º HTTP è¯·æ±‚ã€‚")]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/jprichardson/node-fs-extra",target:"_blank",rel:"noopener noreferrer"}},[t._v("fs-extra"),n("OutboundLink")],1),t._v(" å¯å¤„ç†æ–‡ä»¶ç³»ç»Ÿæ“ä½œã€‚")]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/sindresorhus/globby",target:"_blank",rel:"noopener noreferrer"}},[t._v("globby"),n("OutboundLink")],1),t._v(" ä»¥ç”¨æˆ·å‹å¥½æ¨¡å¼æ¥åŒ¹é…ç»™å®šçš„æ–‡ä»¶åã€‚")])]),t._v(" "),n("h2",{attrs:{id:"èƒŒæ™¯"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#èƒŒæ™¯"}},[t._v("#")]),t._v(" èƒŒæ™¯")]),t._v(" "),n("p",[t._v('"Bash å¾ˆæ£’ï¼Œä½†æ˜¯åœ¨ç¼–å†™è„šæœ¬æ—¶ï¼Œäººä»¬é€šå¸¸ä¼šé€‰æ‹©æ›´æ–¹ä¾¿çš„ç¼–ç¨‹è¯­è¨€ã€‚ JavaScript æ˜¯ä¸€ä¸ªå®Œç¾çš„é€‰æ‹©ï¼Œä½†æ ‡å‡†çš„ Node.js åº“åœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦é¢å¤–çš„éº»çƒ¦ã€‚ zx åŒ…æä¾›äº†å›´ç»• child_process çš„æœ‰ç”¨åŒ…è£…å™¨ï¼Œè½¬ä¹‰å‚æ•°å¹¶æä¾›åˆç†çš„é»˜è®¤å€¼ã€‚"')]),t._v(" "),n("h3",{attrs:{id:"æ‰”ç –å¼•ç‰"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ‰”ç –å¼•ç‰"}},[t._v("#")]),t._v(" æ‰”ç –å¼•ç‰")]),t._v(" "),n("img",{staticStyle:{width:"auto",height:"auto"},attrs:{src:a(582)}}),t._v(" "),n("p",[t._v('"æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æœ¬æ¥æƒ³åˆ é™¤ï¼šrm -rf $dir/'),n("em",[t._v("ç„¶ådiræ˜¯ç©ºçš„æ—¶å€™ï¼Œå˜æˆäº†ä»€ä¹ˆï¼Ÿrm -rfæ˜¯åˆ é™¤å‘½ä»¤ï¼Œ$diræ˜¯ç©ºçš„è¯ï¼Œç›¸å½“äºæ‰§è¡Œ rm -rf /")]),t._v(',è¿™æ˜¯åˆ é™¤æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚ã€‚ã€‚ç„¶åï¼Œä½ çš„ç³»ç»Ÿå°±æ²¡äº†ï¼Œè¿™å°±æ˜¯ä¼ è¯´ä¸­çš„åˆ åº“è·‘è·¯å—~~~~"')]),t._v(" "),n("h2",{attrs:{id:"å†å²"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å†å²"}},[t._v("#")]),t._v(" å†å²")]),t._v(" "),n("img",{staticStyle:{width:"auto",height:"auto"},attrs:{src:a(583)}}),t._v(" "),n("h3",{attrs:{id:"ä½¿ç”¨javascriptå†™shellè„šæœ¬"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨javascriptå†™shellè„šæœ¬"}},[t._v("#")]),t._v(" ä½¿ç”¨javascriptå†™shellè„šæœ¬")]),t._v(" "),n("p",[t._v("#! æ˜¯ä¸€ä¸ªçº¦å®šçš„æ ‡è®°ï¼Œå®ƒå‘Šè¯‰ç³»ç»Ÿè¿™ä¸ªè„šæœ¬éœ€è¦ä»€ä¹ˆè§£é‡Šå™¨æ¥è¿è¡Œï¼Œå³ï¼šä½¿ç”¨å“ªä¸€ç§ shellã€‚#!è¢«ç§°ä¸º"),n("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Shebang",target:"_blank",rel:"noopener noreferrer"}},[t._v("shebangï¼ˆä¹Ÿç§°ä¸º Hashbangï¼‰"),n("OutboundLink")],1),t._v(",ä¾‹å¦‚ä½¿ç”¨ bashï¼š#! /bin/bash")]),t._v(" "),n("p",[t._v("æœ€ç®€å•çš„è„šæœ¬")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/usr/bin/env node")]),t._v("\nconsole.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("ä¿å­˜ä¸ºtestï¼Œæ‰§è¡Œè¯¥è„šæœ¬ node test,ç„¶åå¯ä»¥åœ¨æ§åˆ¶å°è·å¾—è¾“å‡ºã€‚")]),t._v(" "),n("p",[t._v("æ›´è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬ç»™è¯¥è„šæœ¬ä¸€ä¸ªæ‰§è¡Œæƒé™ï¼Œ")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("755")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("\n")])])]),n("h4",{attrs:{id:"ä¾‹å­-è¯»å–ç»™å®šæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„æ–‡ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¾‹å­-è¯»å–ç»™å®šæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„æ–‡ä»¶"}},[t._v("#")]),t._v(" ä¾‹å­-è¯»å–ç»™å®šæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„æ–‡ä»¶")]),t._v(" "),n("p",[t._v("è¯»å–å½“å‰æ–‡ä»¶å¤¹ä½¿ç”¨ fs.readdirSyncæ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«äº†ç»™å®šæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å­æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶,")]),t._v(" "),n("p",[t._v("ä¸¾ä¸ªæ —å­ï¼Œåœ¨å½“å‰ç›®å½•æˆ‘æœ‰ä¸ªtestæ–‡ä»¶å¤¹")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("\nâ”œâ”€â”€ "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".html\nâ”œâ”€â”€ "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".txt\nâ””â”€â”€ files\n")])])]),n("p",[t._v("fs.readdirSync('./test') çš„è¾“å‡ºä¸º [ '1.html', '1.txt', 'files' ]")]),t._v(" "),n("p",[t._v("æ–°å»ºä¸ªæ–‡ä»¶ï¼ŒgetFileï¼Œç”¨æ¥å­˜æ”¾è„šæœ¬ä»£ç ")]),t._v(" "),n("h4",{attrs:{id:"å†™æ­»çš„æ–‡ä»¶å¤¹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å†™æ­»çš„æ–‡ä»¶å¤¹"}},[t._v("#")]),t._v(" å†™æ­»çš„æ–‡ä»¶å¤¹")]),t._v(" "),n("p",[t._v("è¯»å–ç»™å®šç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å¹¶è¾“å‡ºçš„ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/usr/bin/env node")]),t._v("\n\nconst testFolder "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./test/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconst fs "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nfs.readdirSync"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("testFolder"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".forEach"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h4",{attrs:{id:"è·å–ç”¨æˆ·è¾“å…¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è·å–ç”¨æˆ·è¾“å…¥"}},[t._v("#")]),t._v(" è·å–ç”¨æˆ·è¾“å…¥")]),t._v(" "),n("p",[t._v("ä»¥ä¸Šä»£ç çš„ç»™å®šçš„è·¯å¾„æ˜¯å†™æ­»çš„ï¼Œæˆ‘ä»¬éœ€è¦ä½œä¸ºå‚æ•°è¾“å…¥ï¼Œnodejsè¯»å–ç”¨æˆ·è¾“å…¥çš„æ–¹æ³•:")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[t._v("const "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("nodeEnv,dir,"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("process.argv //argsæ˜¯ç”¨æˆ·è¾“å…¥çš„å‚æ•°\n")])])]),n("p",[t._v("ä¿®æ”¹è„šæœ¬ä»£ç ï¼š")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/usr/bin/env node")]),t._v("\n\nconst fs "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconst "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("nodeEnv,dir,"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("process.argv\n\n// è·å–ç”¨æˆ·è¾“å…¥çš„è·¯å¾„\nconst "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("folder")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\nfs.readdirSync"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("folder"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".forEach"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("ç°åœ¨æ‰§è¡Œè„šæœ¬æ—¶ï¼Œè·¯å¾„å°±å¯ä»¥è‡ªå·±è¾“å…¥äº†")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("node")]),t._v(" getFile ä½ çš„è·¯å¾„\n")])])]),n("h3",{attrs:{id:"åŸç”Ÿæ–¹å¼child-process"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŸç”Ÿæ–¹å¼child-process"}},[t._v("#")]),t._v(" åŸç”Ÿæ–¹å¼child_process")]),t._v(" "),n("p",[t._v("nodejså¯ä»¥ä½¿ç”¨child_processæ¨¡å—æ–°å»ºå­è¿›ç¨‹ï¼Œç”¨æ¥æ‰§è¡Œunitç³»ç»Ÿå‘½ä»¤ï¼Œå†™ä¸ªæµ‹è¯•çš„ä¾‹å­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/usr/bin/env node")]),t._v("\n\n\n//-----åŒæ­¥å†™æ³•ğŸ‘‡\nconst "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("execSync")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("require"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'child_process'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".execSync\n\nconst "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("res")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("execSync"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ls'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"res"')]),t._v(", res.toString"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v("\n\n\n// ----- å¼‚æ­¥å†™æ³•ğŸ‘‡\nconst "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("exec")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("require"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'child_process'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".exec\nexec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ls'")]),t._v(","),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err,stdout,stderr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   if"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("throw err\n   console.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stdout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"shelljsæ‰§è¡Œlinuxå‘½ä»¤è¡Œ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#shelljsæ‰§è¡Œlinuxå‘½ä»¤è¡Œ"}},[t._v("#")]),t._v(" shelljsæ‰§è¡Œlinuxå‘½ä»¤è¡Œ")]),t._v(" "),n("p",[t._v("é¦–å…ˆéœ€è¦å®‰è£…shelljs")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("npm i shelljs -S\n")])])]),n("p",[t._v("shelljsæä¾›äº†å¾ˆå¤šæ–¹æ³•ï¼Œæœ€å¸¸ç”¨çš„æ˜¯execï¼Œä¸¾ä¸ªæ —å­")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[t._v("const "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("shell")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("require"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'shelljs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n/**\n * å‡½æ•°ç­¾åï¼šexec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("command "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(", options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(", callback"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n * command:è¦æ‰§è¡Œçš„å‘½ä»¤\n * callback:å›è°ƒå‡½æ•°ï¼Œå¯¹commandçš„è¾“å‡ºè¿›è¡Œå¤„ç†\n * options:\n *  async: å¼‚æ­¥æ‰§è¡Œ.å¦‚æœcallbackæä¾›äº†ï¼Œä¼šå¿½ç•¥è¯¥å‚æ•°å¹¶å¼ºåˆ¶å¼‚æ­¥æ‰§è¡Œ  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default: "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n *  fatal: Exit upon error "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default: "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".\n *  silent: ä¸åœ¨consoleä¸­è¾“å‡º"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default: "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".\n *  encoding: è®¾ç½®stdoutå’Œstderrçš„ç¼–ç  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default: "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf8'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n */\n\n//è¾“å‡ºlsçš„ç»“æœ\nshell.exec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ls"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n//callback"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code,stdout,stderr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  codeä¸º0åˆ™æˆåŠŸï¼Œå¦åˆ™å¤±è´¥\nshell.exec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dir"')]),t._v(","),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("silent:true"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code,stdout,stderr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nshell.exec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ls'")]),t._v(","),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("silent:true"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code,stdout,stderr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stdout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("img",{staticStyle:{width:"auto",height:"auto"},attrs:{src:a(584)}}),t._v(" "),n("p",[t._v("åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¸¸ä¼šé‡åˆ°å¦‚ä¸‹å‘½ä»¤ï¼š")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*****'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push\n")])])]),n("ol",[n("li",[t._v("åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶shell.jsï¼Œå†…å®¹å¦‚ä¸‹ï¼š")])]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("let")]),t._v(" shell "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'shelljs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("let")]),t._v(" name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" process.argv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Auto-commit'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("let")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" shell.exec\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'git add .'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".code "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    echo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Error: Git add failed'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    exit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -am "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${name}")]),t._v('"')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".code "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    echo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Error: Git commit failed'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    exit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'git push'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".code "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    echo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Error: Git commit failed'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    exit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("åªç”¨ä¸€æ¡å‘½ä»¤æ‰§è¡Œä»¥ä¸Šæ‰€æœ‰ä»»åŠ¡ï¼Œåœ¨package.jsonä¸­åŠ å…¥,æ–¹æ³•å¦‚ä¸‹:")])]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script"')]),t._v(":"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"push"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node ./shell.js"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("æ‰§è¡Œ")])]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run push æµ‹è¯•shelljsæäº¤ä»£ç \n")])])]),n("h3",{attrs:{id:"ç”¨spawn-æ¥ç¼–å†™è·¨å¹³å°-node-jså‘½ä»¤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç”¨spawn-æ¥ç¼–å†™è·¨å¹³å°-node-jså‘½ä»¤"}},[t._v("#")]),t._v(" ç”¨spawn æ¥ç¼–å†™è·¨å¹³å° Node.jså‘½ä»¤")]),t._v(" "),n("p",[t._v("å¦‚æœæƒ³è¦ç¼–å†™è·¨å¹³å°çš„ spawn å‘½ä»¤ï¼Œè€Œåˆä¸æƒ³å¢åŠ é¢å¤–çš„å¼€é”€çš„è¯ï¼Œå¯ä»¥è¿™æ ·å†™")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[t._v("const process "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'process'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconst "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" spawn "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'child_process'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nspawn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'npm'")]),t._v(", "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n stdio: "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'inherit'")]),t._v(",\n // ä»…åœ¨å½“å‰è¿è¡Œç¯å¢ƒä¸º Windows æ—¶ï¼Œæ‰ä½¿ç”¨ shell\n shell: process.platform "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'win32'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),n("h4",{attrs:{id:"cross-spawnç¬¬ä¸‰æ–¹æ¨¡å—"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cross-spawnç¬¬ä¸‰æ–¹æ¨¡å—"}},[t._v("#")]),t._v(" cross-spawnç¬¬ä¸‰æ–¹æ¨¡å—")]),t._v(" "),n("p",[t._v("å…³äº spawn å‡½æ•°çš„è·¨å¹³å°å†™æ³•ï¼Œé™¤äº†è‡ªå·±ç¼–å†™ä»£ç çš„æ—¶å€™åšå¤„ç†ï¼Œä¹Ÿæœ‰ç¬¬ä¸‰æ–¹æ¨¡å—å°è£…å¥½äº†ç›¸å…³ç»†èŠ‚ï¼Œå¦‚ cross-spawnã€‚")]),t._v(" "),n("p",[t._v("ä½¿ç”¨è¯¥æ¨¡å—ï¼Œå¯ä»¥åœ¨è°ƒç”¨ spawn å‡½æ•°æ—¶ï¼Œè‡ªåŠ¨æ ¹æ®å½“å‰çš„è¿è¡Œå¹³å°ï¼Œæ¥å†³å®šæ˜¯å¦ç”Ÿæˆä¸€ä¸ª shell æ¥æ‰§è¡Œæ‰€ç»™çš„å‘½ä»¤ã€‚å¯¹å‘½ä»¤å’Œå‚æ•°ä¸­çš„å­—ç¬¦è¿›è¡Œè½¬ä¹‰æ›´ä¸ºæ–¹ä¾¿ã€‚")]),t._v(" "),n("img",{staticStyle:{width:"auto",height:"auto"},attrs:{src:a(585)}}),t._v("\n### Google zx\n"),n("p",[t._v("â€œBashå¾ˆå¥½ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©JavaScriptâ€")]),t._v(" "),n("p",[t._v("å‰ç«¯å¼€å‘æ‹¿æ‰‹çš„ä¸å°±æ˜¯ Javascript, å—¯ å¼€æ•´")]),t._v(" "),n("h4",{attrs:{id:"å®‰è£…å’Œä½¿ç”¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…å’Œä½¿ç”¨"}},[t._v("#")]),t._v(" å®‰è£…å’Œä½¿ç”¨")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i -g zx\n")])])]),n("p",[t._v("å®‰è£…å¥½ zx ä¹‹åï¼Œå°†ç¼–å†™çš„è„šæœ¬æ”¾åœ¨ .mjs åç¼€çš„æ–‡ä»¶ä¸­ï¼Œæˆ–è€…ä½¿ç”¨ .js åç¼€ï¼Œä½†æ˜¯éœ€è¦ä½¿ç”¨ void async function () {...}() å¯¹è„šæœ¬è¿›è¡ŒåŒ…è£…ã€‚")]),t._v(" "),n("p",[t._v("ä½¿ç”¨æ—¶éœ€æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š")]),t._v(" "),n("h4",{attrs:{id:"_1ã€è„šæœ¬éœ€è¦åŒ…å«ä»¥ä¸‹æ–‡ä»¶å¤´"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€è„šæœ¬éœ€è¦åŒ…å«ä»¥ä¸‹æ–‡ä»¶å¤´"}},[t._v("#")]),t._v(" 1ã€è„šæœ¬éœ€è¦åŒ…å«ä»¥ä¸‹æ–‡ä»¶å¤´ï¼š")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("#!/usr/bin/env zx\n")])])]),n("h4",{attrs:{id:"_2-ä¸ºè„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™å†è¿è¡Œ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä¸ºè„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™å†è¿è¡Œ"}},[t._v("#")]),t._v(" 2. ä¸ºè„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™å†è¿è¡Œ")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("$ chmod +x ./script.mjs\n$ ./script.mjs\n\n# æˆ–è€…ä½¿ç”¨è¿™ä¸ªå‘½ä»¤\n$ zx ./script.mjs\n")])])]),n("h4",{attrs:{id:"zx-å¸¸ç”¨å‘½ä»¤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#zx-å¸¸ç”¨å‘½ä»¤"}},[t._v("#")]),t._v(" zx å¸¸ç”¨å‘½ä»¤")]),t._v(" "),n("h5",{attrs:{id:"command"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#command"}},[t._v("#")]),t._v(" $"),n("code",[t._v("command")])]),t._v(" "),n("p",[t._v("ä½¿ç”¨ child_process åŒ…ä¸­æä¾›çš„ exec å‡½æ•°ï¼Œå¯ä»¥æŠŠå­—ç¬¦ä¸²å½“åšå‘½ä»¤æ‰§è¡Œï¼Œå¹¶è¿”å›ä¸€ä¸ª Promise(ProcessOutput) å¯¹è±¡ã€‚é€šè¿‡çš„ä¸€åˆ‡${...}éƒ½ä¼šè¢«è‡ªåŠ¨è½¬ä¹‰å’Œå¼•ç”¨ã€‚")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("let")]),t._v(" count "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parseInt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("await $"),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" -1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("wc")]),t._v(" -l"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("Files count: $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("è¦å¹¶è¡Œä¸Šä¼ æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è„šæœ¬ï¼š")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("let")]),t._v(" hosts "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nawait Promise.all"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hosts.map"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("host "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  $"),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("rsync")]),t._v(" -azP ./src $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("host"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(":/var/www"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v("\n")])])]),n("p",[t._v("è¦ä¿®æ”¹å·¥ä½œè·¯å¾„ï¼Œå¯ä»¥ä½¿ç”¨ cd() æ–¹æ³•ï¼š")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[t._v("cd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/tmp'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n// å°†è¾“å‡º /tmp\nawait $"),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("pwd")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n")])])]),n("p",[t._v("fetch() æ–¹æ³•æ˜¯å¯¹ node-fetch åŒ…çš„åŒ…è£…ï¼š")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("let")]),t._v(" resp "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" await fetch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://wttr.in'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resp.ok"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("await resp.text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("question() æ–¹æ³•æ˜¯å¯¹ readline åŒ…çš„åŒ…è£…ï¼š")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" QuestionOptions "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" choices: string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" question"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("query: string, options?: QuestionOptions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": Promise"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("string"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),n("p",[t._v("ç”¨æ³•ï¼š")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("let")]),t._v(" username "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" await question"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'What is your username? '")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("let")]),t._v(" token "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" await question"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Choose env variable: '")]),t._v(", "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  choices: Object.keys"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process.env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("å¯¹äº chalk åŒ…ï¼Œä¸éœ€è¦å¯¼å…¥å°±å¯ä»¥ç›´æ¥ç”¨ï¼š")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[t._v("console.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("chalk.blue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello world!'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v("\n")])])]),n("p",[t._v("fs åŒ…ï¼Œå¯¼å…¥å°±å¯ä»¥ç›´æ¥ç”¨ï¼š")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("let")]),t._v(" content "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" await fs.readFile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./package.json'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("Promisified é»˜è®¤è¢«å¼•å…¥äº†ï¼Œç­‰åŒäºä»¥ä¸‹ä»£ç ï¼š")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("promises as fs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),t._v("\n")])])]),n("p",[t._v("os åŒ…ï¼Œå¯¼å…¥å°±å¯ä»¥ç›´æ¥ç”¨ï¼š")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[t._v("await $"),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("os.homedir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" example"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n")])])]),n("p",[t._v("zx è¿˜å¯ä»¥ä»å…¶ä»–è„šæœ¬å¯¼å…¥ï¼š")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/usr/bin/env node")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zx'")]),t._v("\nawait $"),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n")])])]),n("p",[t._v("ä¼ é€’ç¯å¢ƒå˜é‡ï¼š")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[t._v("process.env.FOO "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),t._v("\nawait $"),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" $FOO"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n")])])]),n("p",[t._v("æ‰§è¡Œè¿œç¨‹è„šæœ¬ï¼š")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[t._v("zx https://your-remote-server.com/example-script.mjs\n")])])]),n("h3",{attrs:{id:"éƒ¨åˆ†èµ„æ–™å‚è€ƒ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#éƒ¨åˆ†èµ„æ–™å‚è€ƒ"}},[t._v("#")]),t._v(" éƒ¨åˆ†èµ„æ–™å‚è€ƒ")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.sitepoint.com/google-zx-write-node-shell-scripts/",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to Write Shell Scripts in Node with Googleâ€™s zx Library"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.cn/post/6987307041321091079",target:"_blank",rel:"noopener noreferrer"}},[t._v("shelljså‰ç«¯è‡ªåŠ¨åŒ–"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.cn/post/6992743763844005902",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä½¿ç”¨javascriptå†™shellè„šæœ¬"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.cn/post/6979989936137043999",target:"_blank",rel:"noopener noreferrer"}},[t._v("nodejså†™bashè„šæœ¬ç»ˆææ–¹æ¡ˆï¼"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.cn/post/7048286354861457416",target:"_blank",rel:"noopener noreferrer"}},[t._v("ZX ç”¨JavaScriptå†™bashè„šæœ¬"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.cn/post/6979989936137043999#heading-4",target:"_blank",rel:"noopener noreferrer"}},[t._v("nodejså†™bashè„šæœ¬ç»ˆææ–¹æ¡ˆï¼"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.cn/post/7011464539141046279",target:"_blank",rel:"noopener noreferrer"}},[t._v("zx, å¦‚ä½•ç”¨Javascriptä¼˜é›…çš„ä¹¦å†™è„šæœ¬å‘½ä»¤"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.cn/post/7002536429314277384",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google zx æºç æµ…æ"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://atomcloud.cn/google-script-tool-zx/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google è„šæœ¬å·¥å…· zx ä½¿ç”¨æ•™ç¨‹"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.sitepoint.com/google-zx-write-node-shell-scripts/",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to Write Shell Scripts in Node with Googleâ€™s zx Library"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.infoq.com/news/2021/05/zx-javascript-cli-scripts/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Zx - a Tool for Writing Better Scripts"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://blog.tericcabrel.com/write-a-better-bash-script-with-zx/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Write better bash scripts with Zx"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://blog.mastykarz.nl/create-scripts-javascript-zx/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Create scripts in JavaScript with zx"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.mo4tech.com/google-zx-source-code-analysis.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google ZX source code analysis"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);