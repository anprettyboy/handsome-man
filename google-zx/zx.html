<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>js写shell的利器--zx | 画风一剑</title>
    <meta name="generator" content="VuePress 1.9.5">
    
    <meta name="description" content="TypeScript4 最新官方文档翻译">
    
    <link rel="preload" href="/handsome-man/assets/css/0.styles.7f197cba.css" as="style"><link rel="preload" href="/handsome-man/assets/js/app.b9fb3275.js" as="script"><link rel="preload" href="/handsome-man/assets/js/3.b104ceb1.js" as="script"><link rel="preload" href="/handsome-man/assets/js/1.809d56d9.js" as="script"><link rel="preload" href="/handsome-man/assets/js/11.af144312.js" as="script"><link rel="prefetch" href="/handsome-man/assets/js/10.6a5b3f4b.js"><link rel="prefetch" href="/handsome-man/assets/js/12.e892fb6d.js"><link rel="prefetch" href="/handsome-man/assets/js/13.b0ca7e63.js"><link rel="prefetch" href="/handsome-man/assets/js/14.5aee67aa.js"><link rel="prefetch" href="/handsome-man/assets/js/15.1ff5f527.js"><link rel="prefetch" href="/handsome-man/assets/js/16.ecbfa0a6.js"><link rel="prefetch" href="/handsome-man/assets/js/17.191d776d.js"><link rel="prefetch" href="/handsome-man/assets/js/18.b2a48117.js"><link rel="prefetch" href="/handsome-man/assets/js/19.92c7cc2f.js"><link rel="prefetch" href="/handsome-man/assets/js/20.4623d665.js"><link rel="prefetch" href="/handsome-man/assets/js/21.580986bd.js"><link rel="prefetch" href="/handsome-man/assets/js/22.0554b1b9.js"><link rel="prefetch" href="/handsome-man/assets/js/23.b1b68274.js"><link rel="prefetch" href="/handsome-man/assets/js/4.108801d8.js"><link rel="prefetch" href="/handsome-man/assets/js/5.dbf3f656.js"><link rel="prefetch" href="/handsome-man/assets/js/6.9106962c.js"><link rel="prefetch" href="/handsome-man/assets/js/7.e8413444.js"><link rel="prefetch" href="/handsome-man/assets/js/8.a05b31d6.js"><link rel="prefetch" href="/handsome-man/assets/js/9.065bc934.js">
    <link rel="stylesheet" href="/handsome-man/assets/css/0.styles.7f197cba.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1aefc0b4><div data-v-1aefc0b4><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1aefc0b4 data-v-1aefc0b4><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>画风一剑</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>TypeScript4 最新官方文档翻译</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-1aefc0b4><header class="navbar" data-v-1aefc0b4><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/handsome-man/" class="home-link router-link-active"><!----> <span class="site-name">画风一剑</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/handsome-man/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      本站源码
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/anprettyboy/handsome-man" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1aefc0b4></div> <aside class="sidebar" data-v-1aefc0b4><div class="personal-info-wrapper" data-v-39576ba9 data-v-1aefc0b4><!----> <!----> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>10</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>0</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/handsome-man/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      本站源码
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/anprettyboy/handsome-man" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/handsome-man/" class="sidebar-heading clickable router-link-active open"><span>tech</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handsome-man/best-of-js-2021/best-of-js-2021.html" class="sidebar-link">盘点2021年Javascript最受关注的项目</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/handsome-man/internationalization-in-css" class="sidebar-heading clickable"><span>被忽略的CSS国际化</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handsome-man/internationalization-in-css/internationalization-in-css.html" class="sidebar-link">CSS国际化</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/handsome-man/google-zx" class="sidebar-heading clickable router-link-active open"><span>Google zx</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handsome-man/google-zx/zx.html" aria-current="page" class="active sidebar-link">js写shell的利器--zx</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/handsome-man/connect-to-a-db-in-css" class="sidebar-heading clickable"><span>使用CSS链接数据库</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handsome-man/connect-to-a-db-in-css/sqlcss.html" class="sidebar-link">使用CSS链接数据库</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/handsome-man/what-web-frameworks-solve" class="sidebar-heading clickable"><span>JS框架能解决什么问题</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handsome-man/what-web-frameworks-solve/how-to-do-without-web-frameworks.html" class="sidebar-link">如果没有WEB框架应该怎么办</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/handsome-man/baseline-for-web-development-2022" class="sidebar-heading clickable"><span>2022年网页开发的基线</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handsome-man/baseline-for-web-development-2022/baseline-2022.html" class="sidebar-link">The baseline for web development in 2022</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/handsome-man/css-for-internationalization" class="sidebar-heading clickable"><span>CSS国际化</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handsome-man/css-for-internationalization/css-for-internationalization.html" class="sidebar-link">CSS国际化</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/handsome-man/front-end-writing" class="sidebar-heading clickable"><span>前端写作</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handsome-man/front-end-writing/golang-enhance-web/golang-web.html" class="sidebar-link">Golang Web</a></li><li><a href="/handsome-man/front-end-writing/i18n-web/i18n-web-arch.html" class="sidebar-link">多语言WEB技术架构</a></li></ul></section></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>js写shell的利器--zx</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2022
        </a></span></div></div> <div data-v-1aefc0b4><main class="page"><section><div class="page-title"><h1 class="title">js写shell的利器--zx</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>Marthers</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>2/11/2022</span></i> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="google-zx-中文版"><a href="#google-zx-中文版" class="header-anchor">#</a> Google zx 中文版</h1> <img src="/handsome-man/assets/img/programmer-5-years.aecba2c2.png" style="width:auto;height:auto;"> <h2 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h2> <p><a href="https://anprettyboy.github.io/handsome-man/" target="_blank" rel="noopener noreferrer">2021年度最流行项目<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是<a href="https://github.com/google/zx" target="_blank" rel="noopener noreferrer">zx<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，一个由谷歌推出的全新的工具，可用于以 JavaScript 或 TypeScript 编写简单的命令行脚本。</p> <p>基本上它可以让你在代码中嵌入任何 bash 表达式（ls, cat, git...等任何命令！），并通过<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/await" target="_blank" rel="noopener noreferrer">await操作符<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>使用<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals" target="_blank" rel="noopener noreferrer">JavaScript template literals<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的结果。</p> <p>它引入了由几个流行的软件包提供的实用工具：</p> <ul><li><a href="https://github.com/node-fetch/node-fetch" target="_blank" rel="noopener noreferrer">node-fetch<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 与浏览器中<a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API" target="_blank" rel="noopener noreferrer">Fetch<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>有着相同的 API， 可创建 HTTP 请求。</li> <li><a href="https://github.com/jprichardson/node-fs-extra" target="_blank" rel="noopener noreferrer">fs-extra<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 可处理文件系统操作。</li> <li><a href="https://github.com/sindresorhus/globby" target="_blank" rel="noopener noreferrer">globby<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 以用户友好模式来匹配给定的文件名。</li></ul> <h2 id="背景"><a href="#背景" class="header-anchor">#</a> 背景</h2> <p>&quot;Bash 很棒，但是在编写脚本时，人们通常会选择更方便的编程语言。 JavaScript 是一个完美的选择，但标准的 Node.js 库在使用之前需要额外的麻烦。 zx 包提供了围绕 child_process 的有用包装器，转义参数并提供合理的默认值。&quot;</p> <h3 id="扔砖引玉"><a href="#扔砖引玉" class="header-anchor">#</a> 扔砖引玉</h3> <img src="/handsome-man/assets/img/rm-rf2.bce625b1.jpeg" style="width:auto;height:auto;"> <p>&quot;想象一下，你本来想删除：rm -rf $dir/<em>然后dir是空的时候，变成了什么？rm -rf是删除命令，$dir是空的话，相当于执行 rm -rf /</em>,这是删除所有文件和文件夹。。。然后，你的系统就没了，这就是传说中的删库跑路吗~~~~&quot;</p> <h2 id="历史"><a href="#历史" class="header-anchor">#</a> 历史</h2> <img src="/handsome-man/assets/img/change.1f9e3b77.png" style="width:auto;height:auto;"> <h3 id="使用javascript写shell脚本"><a href="#使用javascript写shell脚本" class="header-anchor">#</a> 使用javascript写shell脚本</h3> <p>#! 是一个约定的标记，它告诉系统这个脚本需要什么解释器来运行，即：使用哪一种 shell。#!被称为<a href="https://zh.wikipedia.org/wiki/Shebang" target="_blank" rel="noopener noreferrer">shebang（也称为 Hashbang）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>,例如使用 bash：#! /bin/bash</p> <p>最简单的脚本</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/usr/bin/env node</span>
console.log<span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>保存为test，执行该脚本 node test,然后可以在控制台获得输出。</p> <p>更进一步，我们给该脚本一个执行权限，</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">chmod</span> <span class="token number">755</span> <span class="token builtin class-name">test</span>
</code></pre></div><h4 id="例子-读取给定文件夹下所有的文件"><a href="#例子-读取给定文件夹下所有的文件" class="header-anchor">#</a> 例子-读取给定文件夹下所有的文件</h4> <p>读取当前文件夹使用 fs.readdirSync方法，该方法会返回一个数组，包含了给定文件夹下的所有子文件夹或文件,</p> <p>举个栗子，在当前目录我有个test文件夹</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">test</span>
├── <span class="token number">1</span>.html
├── <span class="token number">1</span>.txt
└── files
</code></pre></div><p>fs.readdirSync('./test') 的输出为 [ '1.html', '1.txt', 'files' ]</p> <p>新建个文件，getFile，用来存放脚本代码</p> <h4 id="写死的文件夹"><a href="#写死的文件夹" class="header-anchor">#</a> 写死的文件夹</h4> <p>读取给定目录下所有文件并输出的代码如下：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/usr/bin/env node</span>

const testFolder <span class="token operator">=</span> <span class="token string">'./test/'</span><span class="token punctuation">;</span>
const fs <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

fs.readdirSync<span class="token punctuation">(</span>testFolder<span class="token punctuation">)</span>.forEach<span class="token punctuation">(</span>file <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  console.log<span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="获取用户输入"><a href="#获取用户输入" class="header-anchor">#</a> 获取用户输入</h4> <p>以上代码的给定的路径是写死的，我们需要作为参数输入，nodejs读取用户输入的方法:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>const <span class="token punctuation">[</span>nodeEnv,dir,<span class="token punctuation">..</span>.args<span class="token punctuation">]</span><span class="token operator">=</span>process.argv //args是用户输入的参数
</code></pre></div><p>修改脚本代码：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/usr/bin/env node</span>

const fs <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
const <span class="token punctuation">[</span>nodeEnv,dir,<span class="token punctuation">..</span>.args<span class="token punctuation">]</span><span class="token operator">=</span>process.argv

// 获取用户输入的路径
const <span class="token assign-left variable">folder</span><span class="token operator">=</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

fs.readdirSync<span class="token punctuation">(</span>folder<span class="token punctuation">)</span>.forEach<span class="token punctuation">(</span>file <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  console.log<span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>现在执行脚本时，路径就可以自己输入了</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">node</span> getFile 你的路径
</code></pre></div><h3 id="原生方式child-process"><a href="#原生方式child-process" class="header-anchor">#</a> 原生方式child_process</h3> <p>nodejs可以使用child_process模块新建子进程，用来执行unit系统命令，写个测试的例子，如下所示：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/usr/bin/env node</span>


//-----同步写法👇
const <span class="token assign-left variable">execSync</span><span class="token operator">=</span>require<span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span>.execSync

const <span class="token assign-left variable">res</span><span class="token operator">=</span>execSync<span class="token punctuation">(</span><span class="token string">'ls'</span><span class="token punctuation">)</span>
console.log<span class="token punctuation">(</span><span class="token string">&quot;res&quot;</span>, res.toString<span class="token punctuation">(</span><span class="token punctuation">))</span>


// ----- 异步写法👇
const <span class="token assign-left variable">exec</span><span class="token operator">=</span>require<span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span>.exec
exec<span class="token punctuation">(</span><span class="token string">'ls'</span>,<span class="token punctuation">(</span>err,stdout,stderr<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>
   if<span class="token punctuation">(</span>err<span class="token punctuation">)</span>throw err
   console.log<span class="token punctuation">(</span>stdout<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="shelljs执行linux命令行"><a href="#shelljs执行linux命令行" class="header-anchor">#</a> shelljs执行linux命令行</h3> <p>首先需要安装shelljs</p> <div class="language- extra-class"><pre class="language-text"><code>npm i shelljs -S
</code></pre></div><p>shelljs提供了很多方法，最常用的是exec，举个栗子</p> <div class="language-shell extra-class"><pre class="language-shell"><code>const <span class="token assign-left variable">shell</span><span class="token operator">=</span>require<span class="token punctuation">(</span><span class="token string">'shelljs'</span><span class="token punctuation">)</span>
/**
 * 函数签名：exec<span class="token punctuation">(</span>command <span class="token punctuation">[</span>, options<span class="token punctuation">]</span> <span class="token punctuation">[</span>, callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
 * command:要执行的命令
 * callback:回调函数，对command的输出进行处理
 * options:
 *  async: 异步执行.如果callback提供了，会忽略该参数并强制异步执行  <span class="token punctuation">(</span>default: <span class="token boolean">false</span><span class="token punctuation">)</span>
 *  fatal: Exit upon error <span class="token punctuation">(</span>default: <span class="token boolean">false</span><span class="token punctuation">)</span>.
 *  silent: 不在console中输出<span class="token punctuation">(</span>default: <span class="token boolean">false</span><span class="token punctuation">)</span>.
 *  encoding: 设置stdout和stderr的编码 <span class="token punctuation">(</span>default: <span class="token string">'utf8'</span><span class="token punctuation">)</span>
 */

//输出ls的结果
shell.exec<span class="token punctuation">(</span><span class="token string">&quot;ls&quot;</span><span class="token punctuation">)</span>

//callback<span class="token punctuation">(</span>code,stdout,stderr<span class="token punctuation">)</span>  code为0则成功，否则失败
shell.exec<span class="token punctuation">(</span><span class="token string">&quot;dir&quot;</span>,<span class="token punctuation">{</span>silent:true<span class="token punctuation">}</span>,<span class="token punctuation">(</span>code,stdout,stderr<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

shell.exec<span class="token punctuation">(</span><span class="token string">'ls'</span>,<span class="token punctuation">{</span>silent:true<span class="token punctuation">}</span>,<span class="token punctuation">(</span>code,stdout,stderr<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>
    console.log<span class="token punctuation">(</span>code<span class="token punctuation">)</span>
    console.log<span class="token punctuation">(</span>stdout<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><img src="/handsome-man/assets/img/computer-learn.563f1959.jpeg" style="width:auto;height:auto;"> <p>在开发过程中，常会遇到如下命令：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit -m <span class="token string">'*****'</span>
<span class="token function">git</span> push
</code></pre></div><ol><li>在根目录下新建文件shell.js，内容如下：</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">let</span> shell <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'shelljs'</span><span class="token punctuation">)</span>
<span class="token builtin class-name">let</span> name <span class="token operator">=</span> process.argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">'Auto-commit'</span><span class="token punctuation">;</span>
<span class="token builtin class-name">let</span> <span class="token builtin class-name">exec</span> <span class="token operator">=</span> shell.exec

<span class="token keyword">if</span> <span class="token punctuation">(</span>exec<span class="token punctuation">(</span><span class="token string">'git add .'</span><span class="token punctuation">)</span>.code <span class="token operator">!=</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    echo<span class="token punctuation">(</span><span class="token string">'Error: Git add failed'</span><span class="token punctuation">)</span>
    exit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>exec<span class="token punctuation">(</span><span class="token variable"><span class="token variable">`</span><span class="token function">git</span> commit -am <span class="token string">&quot;<span class="token variable">${name}</span>&quot;</span><span class="token variable">`</span></span><span class="token punctuation">)</span>.code <span class="token operator">!=</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    echo<span class="token punctuation">(</span><span class="token string">'Error: Git commit failed'</span><span class="token punctuation">)</span>
    exit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>exec<span class="token punctuation">(</span><span class="token string">'git push'</span><span class="token punctuation">)</span>.code <span class="token operator">!=</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    echo<span class="token punctuation">(</span><span class="token string">'Error: Git commit failed'</span><span class="token punctuation">)</span>
    exit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>只用一条命令执行以上所有任务，在package.json中加入,方法如下:</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token string">&quot;script&quot;</span>:<span class="token punctuation">{</span>
    <span class="token string">&quot;push&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;node ./shell.js&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>执行</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> run push 测试shelljs提交代码
</code></pre></div><h3 id="用spawn-来编写跨平台-node-js命令"><a href="#用spawn-来编写跨平台-node-js命令" class="header-anchor">#</a> 用spawn 来编写跨平台 Node.js命令</h3> <p>如果想要编写跨平台的 spawn 命令，而又不想增加额外的开销的话，可以这样写</p> <div class="language-shell extra-class"><pre class="language-shell"><code>const process <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'process'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
const <span class="token punctuation">{</span> spawn <span class="token punctuation">}</span> <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

spawn<span class="token punctuation">(</span><span class="token string">'npm'</span>, <span class="token punctuation">{</span>
 stdio: <span class="token string">'inherit'</span>,
 // 仅在当前运行环境为 Windows 时，才使用 shell
 shell: process.platform <span class="token operator">==</span><span class="token operator">=</span> <span class="token string">'win32'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h4 id="cross-spawn第三方模块"><a href="#cross-spawn第三方模块" class="header-anchor">#</a> cross-spawn第三方模块</h4> <p>关于 spawn 函数的跨平台写法，除了自己编写代码的时候做处理，也有第三方模块封装好了相关细节，如 cross-spawn。</p> <p>使用该模块，可以在调用 spawn 函数时，自动根据当前的运行平台，来决定是否生成一个 shell 来执行所给的命令。对命令和参数中的字符进行转义更为方便。</p> <img src="/handsome-man/assets/img/avoid-rm.147b1c6d.jpeg" style="width:auto;height:auto;">
### Google zx
<p>“Bash很好，所以我选择JavaScript”</p> <p>前端开发拿手的不就是 Javascript, 嗯 开整</p> <h4 id="安装和使用"><a href="#安装和使用" class="header-anchor">#</a> 安装和使用</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> i -g zx
</code></pre></div><p>安装好 zx 之后，将编写的脚本放在 .mjs 后缀的文件中，或者使用 .js 后缀，但是需要使用 void async function () {...}() 对脚本进行包装。</p> <p>使用时需注意以下几点：</p> <h4 id="_1、脚本需要包含以下文件头"><a href="#_1、脚本需要包含以下文件头" class="header-anchor">#</a> 1、脚本需要包含以下文件头：</h4> <div class="language- extra-class"><pre class="language-text"><code>#!/usr/bin/env zx
</code></pre></div><h4 id="_2-为脚本添加执行权限再运行"><a href="#_2-为脚本添加执行权限再运行" class="header-anchor">#</a> 2. 为脚本添加执行权限再运行</h4> <div class="language- extra-class"><pre class="language-text"><code>$ chmod +x ./script.mjs
$ ./script.mjs

# 或者使用这个命令
$ zx ./script.mjs
</code></pre></div><h4 id="zx-常用命令"><a href="#zx-常用命令" class="header-anchor">#</a> zx 常用命令</h4> <h5 id="command"><a href="#command" class="header-anchor">#</a> $<code>command</code></h5> <p>使用 child_process 包中提供的 exec 函数，可以把字符串当做命令执行，并返回一个 Promise(ProcessOutput) 对象。通过的一切${...}都会被自动转义和引用。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">let</span> count <span class="token operator">=</span> parseInt<span class="token punctuation">(</span>await $<span class="token variable"><span class="token variable">`</span><span class="token function">ls</span> -1 <span class="token operator">|</span> <span class="token function">wc</span> -l<span class="token variable">`</span></span><span class="token punctuation">)</span>
console.log<span class="token punctuation">(</span><span class="token variable"><span class="token variable">`</span>Files count: $<span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token variable">`</span></span><span class="token punctuation">)</span>
</code></pre></div><p>要并行上传文件，可以使用下面的脚本：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">let</span> hosts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span>
await Promise.all<span class="token punctuation">(</span>hosts.map<span class="token punctuation">(</span>host <span class="token operator">=</span><span class="token operator">&gt;</span>
  $<span class="token variable"><span class="token variable">`</span><span class="token function">rsync</span> -azP ./src $<span class="token punctuation">{</span>host<span class="token punctuation">}</span>:/var/www<span class="token variable">`</span></span>
<span class="token punctuation">))</span>
</code></pre></div><p>要修改工作路径，可以使用 cd() 方法：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>cd<span class="token punctuation">(</span><span class="token string">'/tmp'</span><span class="token punctuation">)</span>
// 将输出 /tmp
await $<span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">pwd</span><span class="token variable">`</span></span>
</code></pre></div><p>fetch() 方法是对 node-fetch 包的包装：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">let</span> resp <span class="token operator">=</span> await fetch<span class="token punctuation">(</span><span class="token string">'http://wttr.in'</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>resp.ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console.log<span class="token punctuation">(</span>await resp.text<span class="token punctuation">(</span><span class="token punctuation">))</span>
<span class="token punctuation">}</span>
</code></pre></div><p>question() 方法是对 readline 包的包装：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">type</span> QuestionOptions <span class="token operator">=</span> <span class="token punctuation">{</span> choices: string<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
<span class="token keyword">function</span> question<span class="token punctuation">(</span>query: string, options?: QuestionOptions<span class="token punctuation">)</span>: Promise<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span>
</code></pre></div><p>用法：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">let</span> username <span class="token operator">=</span> await question<span class="token punctuation">(</span><span class="token string">'What is your username? '</span><span class="token punctuation">)</span>
<span class="token builtin class-name">let</span> token <span class="token operator">=</span> await question<span class="token punctuation">(</span><span class="token string">'Choose env variable: '</span>, <span class="token punctuation">{</span>
  choices: Object.keys<span class="token punctuation">(</span>process.env<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>对于 chalk 包，不需要导入就可以直接用：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>console.log<span class="token punctuation">(</span>chalk.blue<span class="token punctuation">(</span><span class="token string">'Hello world!'</span><span class="token punctuation">))</span>
</code></pre></div><p>fs 包，导入就可以直接用：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">let</span> content <span class="token operator">=</span> await fs.readFile<span class="token punctuation">(</span><span class="token string">'./package.json'</span><span class="token punctuation">)</span>
</code></pre></div><p>Promisified 默认被引入了，等同于以下代码：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">import</span> <span class="token punctuation">{</span>promises as fs<span class="token punctuation">}</span> from <span class="token string">'fs'</span>
</code></pre></div><p>os 包，导入就可以直接用：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>await $<span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">cd</span> $<span class="token punctuation">{</span>os.homedir<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> example<span class="token variable">`</span></span>
</code></pre></div><p>zx 还可以从其他脚本导入：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/usr/bin/env node</span>
<span class="token function">import</span> <span class="token punctuation">{</span>$<span class="token punctuation">}</span> from <span class="token string">'zx'</span>
await $<span class="token variable"><span class="token variable">`</span><span class="token function">date</span><span class="token variable">`</span></span>
</code></pre></div><p>传递环境变量：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>process.env.FOO <span class="token operator">=</span> <span class="token string">'bar'</span>
await $<span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> $FOO<span class="token variable">`</span></span>
</code></pre></div><p>执行远程脚本：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>zx https://your-remote-server.com/example-script.mjs
</code></pre></div><h3 id="部分资料参考"><a href="#部分资料参考" class="header-anchor">#</a> 部分资料参考</h3> <ul><li><a href="https://www.sitepoint.com/google-zx-write-node-shell-scripts/" target="_blank" rel="noopener noreferrer">How to Write Shell Scripts in Node with Google’s zx Library<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/6987307041321091079" target="_blank" rel="noopener noreferrer">shelljs前端自动化<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/6992743763844005902" target="_blank" rel="noopener noreferrer">使用javascript写shell脚本<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/6979989936137043999" target="_blank" rel="noopener noreferrer">nodejs写bash脚本终极方案！<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/7048286354861457416" target="_blank" rel="noopener noreferrer">ZX 用JavaScript写bash脚本<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/6979989936137043999#heading-4" target="_blank" rel="noopener noreferrer">nodejs写bash脚本终极方案！<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/7011464539141046279" target="_blank" rel="noopener noreferrer">zx, 如何用Javascript优雅的书写脚本命令<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/7002536429314277384" target="_blank" rel="noopener noreferrer">Google zx 源码浅析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://atomcloud.cn/google-script-tool-zx/" target="_blank" rel="noopener noreferrer">Google 脚本工具 zx 使用教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.sitepoint.com/google-zx-write-node-shell-scripts/" target="_blank" rel="noopener noreferrer">How to Write Shell Scripts in Node with Google’s zx Library<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.infoq.com/news/2021/05/zx-javascript-cli-scripts/" target="_blank" rel="noopener noreferrer">Zx - a Tool for Writing Better Scripts<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.tericcabrel.com/write-a-better-bash-script-with-zx/" target="_blank" rel="noopener noreferrer">Write better bash scripts with Zx<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.mastykarz.nl/create-scripts-javascript-zx/" target="_blank" rel="noopener noreferrer">Create scripts in JavaScript with zx<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.mo4tech.com/google-zx-source-code-analysis.html" target="_blank" rel="noopener noreferrer">Google ZX source code analysis<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/handsome-man/internationalization-in-css/internationalization-in-css.html" class="prev">
            CSS国际化
          </a></span> <span class="next"><a href="/handsome-man/connect-to-a-db-in-css/sqlcss.html">
            使用CSS链接数据库
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/handsome-man/google-zx/zx.html#简介" class="sidebar-link reco-side-简介" data-v-cb1513f6>简介</a></li><li class="level-2" data-v-cb1513f6><a href="/handsome-man/google-zx/zx.html#背景" class="sidebar-link reco-side-背景" data-v-cb1513f6>背景</a></li><li class="level-3" data-v-cb1513f6><a href="/handsome-man/google-zx/zx.html#扔砖引玉" class="sidebar-link reco-side-扔砖引玉" data-v-cb1513f6>扔砖引玉</a></li><li class="level-2" data-v-cb1513f6><a href="/handsome-man/google-zx/zx.html#历史" class="sidebar-link reco-side-历史" data-v-cb1513f6>历史</a></li><li class="level-3" data-v-cb1513f6><a href="/handsome-man/google-zx/zx.html#使用javascript写shell脚本" class="sidebar-link reco-side-使用javascript写shell脚本" data-v-cb1513f6>使用javascript写shell脚本</a></li><li class="level-3" data-v-cb1513f6><a href="/handsome-man/google-zx/zx.html#原生方式child-process" class="sidebar-link reco-side-原生方式child-process" data-v-cb1513f6>原生方式child_process</a></li><li class="level-3" data-v-cb1513f6><a href="/handsome-man/google-zx/zx.html#shelljs执行linux命令行" class="sidebar-link reco-side-shelljs执行linux命令行" data-v-cb1513f6>shelljs执行linux命令行</a></li><li class="level-3" data-v-cb1513f6><a href="/handsome-man/google-zx/zx.html#用spawn-来编写跨平台-node-js命令" class="sidebar-link reco-side-用spawn-来编写跨平台-node-js命令" data-v-cb1513f6>用spawn 来编写跨平台 Node.js命令</a></li><li class="level-3" data-v-cb1513f6><a href="/handsome-man/google-zx/zx.html#部分资料参考" class="sidebar-link reco-side-部分资料参考" data-v-cb1513f6>部分资料参考</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/handsome-man/assets/js/app.b9fb3275.js" defer></script><script src="/handsome-man/assets/js/3.b104ceb1.js" defer></script><script src="/handsome-man/assets/js/1.809d56d9.js" defer></script><script src="/handsome-man/assets/js/11.af144312.js" defer></script>
  </body>
</html>
